<!DOCTYPE html>
<html>
<head>
    <title>Disable STA Mode</title>
</head>
<body>
    <h1>Disable Station Mode Auto-Reconnect</h1>
    <button onclick="disableSTA()">Click to Disable Auto-Reconnect</button>
    <div id="status"></div>

    <script>
    function disableSTA() {
        const params = new URLSearchParams({
            enableSTA: 'false'
        }).toString();

        fetch(`http://192.168.4.1/api/config?${params}`, { method: 'POST' })
            .then(response => response.text())
            .then(message => {
                document.getElementById('status').innerHTML = '<p style="color: green;">' + message + '</p><p>Please restart the ESP32 to apply changes.</p>';
            })
            .catch(error => {
                document.getElementById('status').innerHTML = '<p style="color: red;">Failed: ' + error + '</p>';
            });
    }
    </script>
</body>
</html>
